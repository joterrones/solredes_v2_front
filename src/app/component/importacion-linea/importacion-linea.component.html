<app-menu>
    <div class="body">
        <h4>{{tit}}</h4>
        <p>*Para completar la plantilla usar los siguientes prefijos: Linea primaria 'LP', Red primaria 'RP' y Red secundaria 'RS'</p>
        <input type="file" style="display: inline-block;" (change)="incomingfile($event)" placeholder="Upload file"
            accept=".xlsx" #fileInput  *ngIf="permisoEdit">

            
       <!-- <button mat-raised-button color="primary" (click)="fileInput.click()" class="boton" [disabled]="procesando" *ngIf="permisoEdit">(0) Subir Archivo</button>-->
        <button mat-raised-button color="primary" (click)="conexionapi(1)" class="boton" [disabled]="procesando" *ngIf="permisoEdit">(1) Cargar</button>
        <button mat-raised-button color="primary" (click)="download()" class="boton" *ngIf="permisoEdit">Descargar</button>

        <mat-progress-bar class="example-margin" mode="indeterminate" *ngIf="procesando">
        </mat-progress-bar>
        <table mat-table [dataSource]="tabla" matSort class="mat-elevation-z8">
            <ng-container matColumnDef="ESTADO">
                <th mat-header-cell *matHeaderCellDef color="error"> ESTADO </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-icon-button aria-label="Example icon-button with a heart icon" #tooltip="matTooltip"
                        [matTooltip]="element.c_mensaje" color="error" *ngIf="!element.b_flag">
                        <mat-icon>close</mat-icon>
                    </button>
                    <button mat-icon-button aria-label="Example icon-button with a heart icon"
                        [matTooltip]="element.c_mensaje" color="primary" *ngIf="element.b_flag" #tooltip="matTooltip">
                        <mat-icon>check</mat-icon>
                    </button>
                </td>
            </ng-container>
            <ng-container matColumnDef="CODIGO_LINEA">
                <th mat-header-cell *matHeaderCellDef color="error"> CÃ“DIGO LINEA </th>
                <td mat-cell *matCellDef="let element"> {{element.CODIGO_LINEA}} </td>
            </ng-container>
            <ng-container matColumnDef="NOMBRE_LINEA">
                <th mat-header-cell *matHeaderCellDef color="error"> LINEA </th>
                <td mat-cell *matCellDef="let element"> {{element.NOMBRE_LINEA}} </td>
            </ng-container>
            <ng-container matColumnDef="TIPO_LINEA">
                <th mat-header-cell *matHeaderCellDef color="error"> TIPO LINEA </th>
                <td mat-cell *matCellDef="let element"> {{element.TIPO_LINEA}} </td>
            </ng-container>
            <ng-container matColumnDef="ZONA">
                <th mat-header-cell *matHeaderCellDef color="error"> ZONA </th>
                <td mat-cell *matCellDef="let element"> {{element.ZONA}} </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <ng-template let-row matRowDef cdkVirtualFor [matRowDefColumns]="displayedColumns">
                <tr mat-row></tr>
            </ng-template>
        </table>
        <mat-paginator [pageSizeOptions]="[50,100,1000]" showFirstLastButtons></mat-paginator>
    </div>
</app-menu>