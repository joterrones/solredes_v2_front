<mat-sidenav-container class="sidenav-container">
    <mat-sidenav #drawer class="sidenav" fixedInViewport="true"
        [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'" [mode]="(isHandset$ | async) ? 'over' : 'side'"
        [opened]="!(isHandset$ | async)">
        <mat-toolbar class="mat-elevation-z4" color="primary" [ngStyle]="{'background-color': colorPro}"><label
                class="titulo">
                <button mat-button [routerLink]="['/proyectoseleccion']">
                    <mat-icon>edit</mat-icon>
                    <label class="titulo">
                        <span>{{proyecto.c_nombre}}</span>
                    </label>
                </button>
            </label></mat-toolbar>
        <mat-nav-list>
            <mat-accordion>
                <mat-expansion-panel [expanded]="idPanel == 1">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <mat-icon>supervisor_account</mat-icon>
                            Seguridad
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <a mat-list-item [routerLink]="['/usuario']" *ngIf="se_adusu" (click)="panel(1,1)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Usuario</span>
                    </a>

                    <a mat-list-item [routerLink]="['/rol']" *ngIf="se_adrol" (click)="panel(1,2)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Roles</span>
                    </a>
                </mat-expansion-panel>
                <mat-expansion-panel [expanded]="idPanel == 2" >
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <mat-icon>settings</mat-icon>
                            Maestros
                        </mat-panel-title>
                    </mat-expansion-panel-header>

                    <a mat-list-item [routerLink]="['/tipolinea']" *ngIf="ma_adtil" (click)="panel(2,3)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Tipo Linea</span>
                    </a>
                    <a mat-list-item [routerLink]="['/zonas']" *ngIf="ma_adzon" (click)="panel(2,4)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Zona</span>
                    </a>

                    <a mat-list-item [routerLink]="['/confproyecto']" *ngIf="ma_adpro" (click)="panel(2,5)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Proyecto</span>
                    </a>
                    <a mat-list-item [routerLink]="['/empresa']" *ngIf="ma_ademp" (click)="panel(2,6)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Empresa</span>
                    </a>
                    <a mat-list-item [routerLink]="['/tipofoto']" *ngIf="ma_adtfo" (click)="panel(2,7)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Tipo Foto</span>
                    </a>

                    <a mat-list-item [routerLink]="['/tipoempresa']" *ngIf="ma_adtie" (click)="panel(2,8)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Tipo Empresa</span>
                    </a>
                    <a mat-list-item [routerLink]="['/tipoelemento']" *ngIf="ma_adtel" (click)="panel(2,9)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Tipo Elemento</span>
                    </a>
                    <a mat-list-item [routerLink]="['/tipomontaje']" *ngIf="ma_adtmo" (click)="panel(2,10)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Tipo Montaje</span>
                    </a>
                    <a mat-list-item [routerLink]="['/valoresGenerales']" *ngIf="ma_advag" (click)="panel(2,11)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Valores Generales</span>
                    </a>
                    <a mat-list-item [routerLink]="['/elemento']" *ngIf="ma_adele" (click)="panel(2,12)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Elemento</span>
                    </a>
                    <a mat-list-item [routerLink]="['/armado']" *ngIf="ma_adarm" (click)="panel(2,13)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Armado</span>
                    </a>

                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="idPanel == 3" >
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <mat-icon>group_work</mat-icon>
                            Asignación
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <a mat-list-item [routerLink]="['/tragrupos']" *ngIf="as_adgru" (click)="panel(3,14)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Grupos</span>
                    </a>
                </mat-expansion-panel>

                <mat-expansion-panel [expanded]="idPanel == 4">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <mat-icon>file_copy</mat-icon>
                            Documentos
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <a mat-list-item [routerLink]="['/AdmArchivos']" *ngIf="as_adarc" (click)="panel(4,15)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Archivos</span>
                    </a>
                </mat-expansion-panel>
                <mat-expansion-panel [expanded]="idPanel == 5" >
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <mat-icon>cloud_upload</mat-icon>
                            Importación
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <a mat-list-item [routerLink]="['/importacionsuministros']" *ngIf="imp_impsu" (click)="panel(5,16)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Importación de Suministro</span>
                    </a>
                    <a mat-list-item [routerLink]="['/importacionmontaje']" *ngIf="imp_impmo" (click)="panel(5,17)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Importación de Montaje</span>
                    </a>
                    <a mat-list-item [routerLink]="['/linea']" *ngIf="ma_adlin " (click)="panel(5,18)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de Linea</span>
                    </a>
                    <a mat-list-item [routerLink]="['/importacionlinea']" *ngIf="imp_impli" (click)="panel(5,19)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Importación de linea</span>
                    </a>
                    <a mat-list-item [routerLink]="['/importacionplanilla']" *ngIf="imp_imppl" (click)="panel(5,20)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Importación de planilla</span>
                    </a>

                </mat-expansion-panel>
                <mat-expansion-panel [expanded]="idPanel == 6" >
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <mat-icon>add_location</mat-icon>
                            Mapa
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <a mat-list-item [routerLink]="['/mapageneral']" *ngIf="ma_mapge" (click)="panel(6,21)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Mapa General</span>
                    </a>
                </mat-expansion-panel>
                <mat-expansion-panel [expanded]="idPanel == 7">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <mat-icon>home</mat-icon>
                            Almacén
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <a mat-list-item [routerLink]="['/almacen']" *ngIf="al_adalm" (click)="panel(7,22)">
                        <mat-icon>keyboard_arrow_right</mat-icon>
                        <span>Administración de almacén y guía</span>
                    </a>
                </mat-expansion-panel>
                <mat-expansion-panel [expanded]="idPanel == 8" >
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            <mat-icon>bar_chart</mat-icon>
                            Reporte
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <a mat-list-item [routerLink]="['/grafico']" *ngIf="al_adalm" (click)="panel(8,23)">
                        <mat-icon>bar_chart</mat-icon>
                        <span>Reporte</span>
                    </a>
                </mat-expansion-panel>
            </mat-accordion>
        </mat-nav-list>
        <div class="logo">
            <img [src]="urlImagen" alt="Logo" style="width: 150px; width: 150px;">
        </div>
    </mat-sidenav>
    <mat-sidenav-content>
        <mat-toolbar class="mat-elevation-z4" color="primary" [ngStyle]="{'background-color': colorPro}">
            <button type="button" aria-label="Toggle sidenav" mat-icon-button (click)="drawer.toggle()"
                *ngIf="isHandset$ | async">
                <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
            </button>

            <div>

                <label style="font-size: 14px;">
                    {{date | date: "dd/MM/yyyy"}}
                    {{date | date: "HH:mm:ss"}}
                </label>
            </div>
            <span class="example-fill-remaining-space"></span>
            <button mat-button [matMenuTriggerFor]="usuario">
                <mat-icon>person</mat-icon>
                <label class="titulo">
                    <span>{{username}}-{{rol}}</span>
                </label>
            </button>
            <mat-menu #usuario="matMenu">
                <button mat-menu-item (click)="descargarManual()">Guía</button>
                <button mat-menu-item (click)="openDialogClave()">Cambiar Contraseña</button>
                <button mat-menu-item (click)="logoff()">Cerrar Sesión</button>
            </mat-menu>
        </mat-toolbar>
        <!--Aquí va el contenido de los formularios-->
        <ng-content>

        </ng-content>
    </mat-sidenav-content>
</mat-sidenav-container>